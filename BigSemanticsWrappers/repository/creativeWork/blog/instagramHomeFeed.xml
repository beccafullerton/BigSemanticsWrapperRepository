<meta_metadata_repository name="instagramHomeFeed"
  package="ecologylab.bigsemantics.generated.library.creativeWork.blog">

  <meta_metadata name="instagram_home_feed" extends="social_media_feed" parser="xpath" no_cache="true">
      <selector url_stripped="https://instagram.com" />
      <selector url_stripped="https://instagram.com/" />
  		
 		<collection name="feed" label="PhotoStream" child_type="social_media_post" 
 														child_use_value_as_label="photos">
 			<xpath>.//div[@class='-cx-PRIVATE-FeedPage__feed']//article</xpath>
 			
 			<scalar name="title" hide="true"/>
 			<scalar name="description" hide="true"/> 			
 			
 			<composite name="shared" label="user" type="social_media_user" layer="10.0">
		  		<xpath>.//div[@class='-cx-PRIVATE-Post__ownerAndLocation']</xpath>
		  		<scalar name="title" hide="true"/>
		  		<scalar name="user_name" use_value_as_label="photo">
		  			<xpath>.</xpath>
		  		</scalar>
		  		<scalar name="location">
		  			<xpath>./@href</xpath>
		  		</scalar>
		  		<composite name="photo" hide="true">
		  			<scalar name="location">
		  				<xpath>.//img[@class='-cx-PRIVATE-Post__ownerAvatar']/@src</xpath>
		  			</scalar>
		  		</composite>
	  		</composite>
  		  	
  		  	<collection name="photos" hide_label="true" layer="9.0">
		  		<xpath>.//div[@class='-cx-PRIVATE-Photo__root -cx-PRIVATE-Post__media']//img</xpath>
		  		<scalar name="location">
					<xpath>./@src</xpath>
				</scalar>
	  		</collection>
	  	  	
	  	  	<scalar name="description" label="description">
		  		<xpath>.//li[@class='-cx-PRIVATE-PostInfo__comment'][1]/h1</xpath>
		  	</scalar>
			
			<scalar name="date" layer="8.0">
		  		<xpath>.//time[@class='-cx-PRIVATE-Timestamp__root']/@title</xpath>
		  	</scalar> 				  	
		  	
		  	<scalar name="time" layer="7.0">
		  		<xpath>.//time[@class='-cx-PRIVATE-Timestamp__root']</xpath>
		  	</scalar>
		  	
		  	<collection name="up_votes" label="likes" child_scalar_type="String" layer="6.0">
 					<xpath>.//span[@class='-cx-PRIVATE-PostLikers__likeCount']/span[2]</xpath>
 			</collection>
	  		
	  		<collection name="comments" layer="5.0" child_show_expanded_always="true">
				<xpath>.//li[@class='-cx-PRIVATE-PostInfo__comment'][position() > 2]</xpath>
				<scalar name="title" hide="true"/>
				<composite name="shared" label="user" layer="10.0">
					<xpath>./a</xpath>
					<scalar name="title">
						<xpath>.</xpath>
					</scalar>
					<scalar name="location">
						<xpath>./@href</xpath>
					</scalar>
				</composite>
				<scalar name="description" label="comment">
					<xpath>./span/span</xpath>
				</scalar>	
		  	</collection>
		  	
 		</collection>
 		
  </meta_metadata>
 </meta_metadata_repository>