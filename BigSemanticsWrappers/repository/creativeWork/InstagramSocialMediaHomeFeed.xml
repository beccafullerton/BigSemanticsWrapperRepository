<meta_metadata_repository name="instagram_social_media_home_feed"
  package="ecologylab.bigsemantics.generated.library.creativeWork">

  <meta_metadata name="instagram_social_media_home_feed" extends="socialMediaFeed" parser="xpath" no_cache="true">
      <selector url_stripped="https://instagram.com" />
      <selector url_stripped="https://instagram.com/" />
  		
 			<collection name="feed" child_type="socailMediaPost">
 				<xpath>.//div[@class='-cx-PRIVATE-FeedPage__feed']//article</xpath>
 				<composite name="shared" label="user" type="social_media_user">
		  		<xpath>.//div[@class='-cx-PRIVATE-Post__ownerAndLocation']</xpath>
		  		<scalar name="title" hide="true"/>
		  		<scalar name="user_name" use_value_as_label="photo">
		  			<xpath>.</xpath>
		  		</scalar>
		  		<scalar name="location">
		  			<xpath>./@href</xpath>
		  		</scalar>
		  		<composite name="photo" hide="true">
		  			<scalar name="location">
		  				<xpath>.//img[@class='-cx-PRIVATE-Post__ownerAvatar']/@src</xpath>
		  			</scalar>
		  		</composite>
	  		</composite>
  		  	<collection name="photos" hide_label="true">
		  		<xpath>.//div[@class='-cx-PRIVATE-Photo__root -cx-PRIVATE-Post__media']//img</xpath>
		  		<scalar name="location">
					<xpath>./@src</xpath>
				</scalar>
	  		</collection>
	  	  	<collection name="up_votes" label="likes" child_scalar_type="String">
 					<xpath>.//span[@class='-cx-PRIVATE-PostLikers__likeCount']/span[2]</xpath>
 				</collection>
			  	<scalar name="date">
		  		<xpath>.//time[@class='-cx-PRIVATE-Timestamp__root']/@title</xpath>
		  	</scalar> 				  	
		  	<scalar name="time">
		  		<xpath>.//time[@class='-cx-PRIVATE-Timestamp__root']</xpath>
		  	</scalar>
	  		<scalar name="description">
		  		<xpath>.//li[@class='-cx-PRIVATE-PostInfo__comment'][1]/h1</xpath>
		  	</scalar>
				<collection name="comments">
				<xpath>.//li[@class='-cx-PRIVATE-PostInfo__comment'][position() > 1]</xpath>
				<composite name="shared" label="user">
					<xpath>./a</xpath>
					<scalar name="title">
						<xpath>.</xpath>
					</scalar>
					<scalar name="location">
						<xpath>./@href</xpath>
					</scalar>
				</composite>
				<scalar name="description" label="comment">
					<xpath>./span/span</xpath>
				</scalar>	
		  	</collection>
 		</collection>
 		
  </meta_metadata>
 </meta_metadata_repository>